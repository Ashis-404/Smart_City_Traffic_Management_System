/* Road styles */
.road-container {
  position: relative;
  width: 100%;
  height: 100%;
  background-color: #1a1a1a;
  overflow: hidden;
  min-height: 200px;
}

.contents {
  display: contents;
}

.road-horizontal {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  width: 100%;
  height: 60px;
  background-color: #333;
}

.road-vertical {
  position: absolute;
  left: 50%;
  transform: translateX(-50%);
  height: 100%;
  width: 60px;
  background-color: #333;
}

.lane-marker {
  position: absolute;
  background-color: #ffd700;
}

.lane-marker-horizontal {
  width: 30px;
  height: 4px;
  animation: moveHorizontal 2s linear infinite;
}

.lane-marker-vertical {
  width: 4px;
  height: 30px;
  animation: moveVertical 2s linear infinite;
}

@keyframes moveHorizontal {
  from { transform: translateX(-100%); }
  to { transform: translateX(100%); }
}

@keyframes moveVertical {
  from { transform: translateY(-100%); }
  to { transform: translateY(100%); }
}

/* Vehicle styles */
.vehicle {
  position: absolute;
  width: 24px;
  height: 12px;
  transition: transform 0.1s linear;
  transform-origin: center;
  border-radius: 2px;
  will-change: transform, left, top;
  transform: translate(-50%, -50%);
}

.vehicle-horizontal {
  transform: translate(-50%, -50%) rotate(0deg);
}

.vehicle-vertical {
  transform: translate(-50%, -50%) rotate(90deg);
}

.vehicle::after {
  content: '';
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: inherit;
  animation: vehiclePulse 2s ease-in-out infinite;
}

.vehicle-optimal {
  background-color: #10b981;
  box-shadow: 0 0 8px #10b981;
}

.vehicle-optimal::after {
  background-color: #10b981;
}

.vehicle-congested {
  background-color: #f59e0b;
  box-shadow: 0 0 8px #f59e0b;
}

.vehicle-congested::after {
  background-color: #f59e0b;
}

.vehicle-critical {
  background-color: #ef4444;
  box-shadow: 0 0 8px #ef4444;
}

.vehicle-critical::after {
  background-color: #ef4444;
}

.vehicle-stopped {
  animation: vehicleStop 0.3s ease-out forwards;
}

.vehicle-moving {
  animation: none;
}

@keyframes vehiclePulse {
  0% { opacity: 0.4; }
  50% { opacity: 0.8; }
  100% { opacity: 0.4; }
}

@keyframes vehicleStop {
  0% { transform: scale(1); }
  50% { transform: scale(1.1); }
  100% { transform: scale(1); }
}

/* Traffic light */
.traffic-light {
  position: absolute;
  width: 12px;
  height: 12px;
  border-radius: 50%;
  box-shadow: 0 0 8px currentColor;
}

.traffic-light-horizontal {
  top: calc(50% - 20px);
}

.traffic-light-vertical {
  left: calc(50% - 20px);
}

/* Lane marker positions */
.lane-marker-h1 { top: 45%; }
.lane-marker-h2 { top: 55%; }
.lane-marker-v1 { left: 45%; }
.lane-marker-v2 { left: 55%; }

.lane-marker-pos-0 { left: 0%; }
.lane-marker-pos-1 { left: 25%; }
.lane-marker-pos-2 { left: 50%; }
.lane-marker-pos-3 { left: 75%; }

.lane-marker-vpos-0 { top: 0%; }
.lane-marker-vpos-1 { top: 25%; }
.lane-marker-vpos-2 { top: 50%; }
.lane-marker-vpos-3 { top: 75%; }

/* Traffic light positions */
.traffic-light-h { left: 40%; }
.traffic-light-v { top: 40%; }

/* Status overlay */
.status-overlay {
  position: absolute;
  inset: 0;
  background: radial-gradient(circle at center, transparent 30%, rgba(0, 0, 0, 0.3) 100%);
}

.optimal-overlay {
  background-color: rgba(16, 185, 129, 0.05);
}

.congested-overlay {
  background-color: rgba(245, 158, 11, 0.05);
}

.critical-overlay {
  background-color: rgba(239, 68, 68, 0.05);
}

/* Vehicle position classes */
.vehicle-horizontal {
  transform: translate(-50%, -50%) rotate(0deg);
}

.vehicle-vertical {
  transform: translate(-50%, -50%) rotate(90deg);
}
